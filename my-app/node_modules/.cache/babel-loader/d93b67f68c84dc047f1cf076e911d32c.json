{"ast":null,"code":"/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\n\nimport * as env from './environment.js';\nimport * as symbol from './symbol.js';\nimport * as pair from './pair.js';\nimport * as dom from './dom.js';\nimport * as json from './json.js';\nimport * as map from './map.js';\nimport * as eventloop from './eventloop.js';\nimport * as math from './math.js';\nimport * as time from './time.js';\nimport * as func from './function.js';\nexport const BOLD = symbol.create();\nexport const UNBOLD = symbol.create();\nexport const BLUE = symbol.create();\nexport const GREY = symbol.create();\nexport const GREEN = symbol.create();\nexport const RED = symbol.create();\nexport const PURPLE = symbol.create();\nexport const ORANGE = symbol.create();\nexport const UNCOLOR = symbol.create();\n\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\nconst _browserStyleMap = {\n  [BOLD]: pair.create('font-weight', 'bold'),\n  [UNBOLD]: pair.create('font-weight', 'normal'),\n  [BLUE]: pair.create('color', 'blue'),\n  [GREEN]: pair.create('color', 'green'),\n  [GREY]: pair.create('color', 'grey'),\n  [RED]: pair.create('color', 'red'),\n  [PURPLE]: pair.create('color', 'purple'),\n  [ORANGE]: pair.create('color', 'orange'),\n  // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [UNCOLOR]: pair.create('color', 'black')\n};\nconst _nodeStyleMap = {\n  [BOLD]: '\\u001b[1m',\n  [UNBOLD]: '\\u001b[2m',\n  [BLUE]: '\\x1b[34m',\n  [GREEN]: '\\x1b[32m',\n  [GREY]: '\\u001b[37m',\n  [RED]: '\\x1b[31m',\n  [PURPLE]: '\\x1b[35m',\n  [ORANGE]: '\\x1b[38;5;208m',\n  [UNCOLOR]: '\\x1b[0m'\n};\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeBrowserLoggingArgs = args => {\n  const strBuilder = [];\n  const styles = [];\n  const currentStyle = map.create();\n  /**\n   * @type {Array<string|Object|number>}\n   */\n  let logArgs = [];\n  // try with formatting until we find something unsupported\n  let i = 0;\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    // @ts-ignore\n    const style = _browserStyleMap[arg];\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle);\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg);\n          styles.push(style);\n        } else {\n          strBuilder.push(arg);\n        }\n      } else {\n        break;\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles;\n    logArgs.unshift(strBuilder.join(''));\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg);\n    }\n  }\n  return logArgs;\n};\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeNodeLoggingArgs = args => {\n  const strBuilder = [];\n  const logArgs = [];\n\n  // try with formatting until we find something unsupported\n  let i = 0;\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    // @ts-ignore\n    const style = _nodeStyleMap[arg];\n    if (style !== undefined) {\n      strBuilder.push(style);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        strBuilder.push(arg);\n      } else {\n        break;\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    strBuilder.push('\\x1b[0m');\n    logArgs.push(strBuilder.join(''));\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    /* istanbul ignore else */\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg);\n    }\n  }\n  return logArgs;\n};\n\n/* istanbul ignore next */\nconst computeLoggingArgs = env.isNode ? computeNodeLoggingArgs : computeBrowserLoggingArgs;\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const print = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  console.log(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.print(args));\n};\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const warn = function () {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  console.warn(...computeLoggingArgs(args));\n  args.unshift(ORANGE);\n  vconsoles.forEach(vc => vc.print(args));\n};\n\n/* istanbul ignore next */\n/**\n * @param {Error} err\n */\nexport const printError = err => {\n  console.error(err);\n  vconsoles.forEach(vc => vc.printError(err));\n};\n\n/* istanbul ignore next */\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log('%c                      ', `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`);\n    // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n\n  vconsoles.forEach(vc => vc.printImg(url, height));\n};\n\n/* istanbul ignore next */\n/**\n * @param {string} base64\n * @param {number} height\n */\nexport const printImgBase64 = (base64, height) => printImg(`data:image/gif;base64,${base64}`, height);\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const group = function () {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n  console.group(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.group(args));\n};\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const groupCollapsed = function () {\n  for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n  console.groupCollapsed(...computeLoggingArgs(args));\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupCollapsed(args));\n};\nexport const groupEnd = () => {\n  console.groupEnd();\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupEnd());\n};\n\n/* istanbul ignore next */\n/**\n * @param {function():Node} createNode\n */\nexport const printDom = createNode => vconsoles.forEach(vc => vc.printDom(createNode()));\n\n/* istanbul ignore next */\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\nexport const printCanvas = (canvas, height) => printImg(canvas.toDataURL(), height);\nexport const vconsoles = new Set();\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\nconst _computeLineSpans = args => {\n  const spans = [];\n  const currentStyle = new Map();\n  // try with formatting until we find something unsupported\n  let i = 0;\n  for (; i < args.length; i++) {\n    const arg = args[i];\n    // @ts-ignore\n    const style = _browserStyleMap[arg];\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right);\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [pair.create('style', dom.mapToStyleString(currentStyle))], [dom.text(arg)]);\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;';\n        }\n        spans.push(span);\n      } else {\n        break;\n      }\n    }\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    let content = args[i];\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' ';\n      }\n      spans.push(dom.element('span', [], [dom.text( /** @type {string} */content)]));\n    }\n  }\n  return spans;\n};\nconst lineStyle = 'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;';\n\n/* istanbul ignore next */\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor(dom) {\n    this.dom = dom;\n    /**\n     * @type {Element}\n     */\n    this.ccontainer = this.dom;\n    this.depth = 0;\n    vconsoles.add(this);\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n  group(args) {\n    let collapsed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [pair.create('hidden', collapsed), pair.create('style', 'color:grey;font-size:120%;')], [dom.text('▼')]);\n      const triangleRight = dom.element('span', [pair.create('hidden', !collapsed), pair.create('style', 'color:grey;font-size:125%;')], [dom.text('▶')]);\n      const content = dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], [triangleDown, triangleRight, dom.text(' ')].concat(_computeLineSpans(args)));\n      const nextContainer = dom.element('div', [pair.create('hidden', collapsed)]);\n      const nextLine = dom.element('div', [], [content, nextContainer]);\n      dom.append(this.ccontainer, [nextLine]);\n      this.ccontainer = nextContainer;\n      this.depth++;\n      // when header is clicked, collapse/uncollapse container\n      dom.addEventListener(content, 'click', event => {\n        nextContainer.toggleAttribute('hidden');\n        triangleDown.toggleAttribute('hidden');\n        triangleRight.toggleAttribute('hidden');\n      });\n    });\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  groupCollapsed(args) {\n    this.group(args, true);\n  }\n  groupEnd() {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--;\n        // @ts-ignore\n        this.ccontainer = this.ccontainer.parentElement.parentElement;\n      }\n    });\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  print(args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], _computeLineSpans(args))]);\n    });\n  }\n\n  /**\n   * @param {Error} err\n   */\n  printError(err) {\n    this.print([RED, BOLD, err.toString()]);\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n  printImg(url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('img', [pair.create('src', url), pair.create('height', `${math.round(height * 1.5)}px`)])]);\n    });\n  }\n\n  /**\n   * @param {Node} node\n   */\n  printDom(node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node]);\n    });\n  }\n  destroy() {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this);\n    });\n  }\n}\n\n/* istanbul ignore next */\n/**\n * @param {Element} dom\n */\nexport const createVConsole = dom => new VConsole(dom);\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE];\nlet nextColor = 0;\nlet lastLoggingTime = time.getUnixTime();\n\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = moduleName => {\n  const color = loggingColors[nextColor];\n  const debugRegexVar = env.getVariable('log');\n  const doLogging = debugRegexVar !== null && (debugRegexVar === '*' || debugRegexVar === 'true' || new RegExp(debugRegexVar, 'gi').test(moduleName));\n  nextColor = (nextColor + 1) % loggingColors.length;\n  moduleName += ': ';\n  return !doLogging ? func.nop : function () {\n    const timeNow = time.getUnixTime();\n    const timeDiff = timeNow - lastLoggingTime;\n    lastLoggingTime = timeNow;\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    print(color, moduleName, UNCOLOR, ...args.map(arg => typeof arg === 'string' || typeof arg === 'symbol' ? arg : JSON.stringify(arg)), color, ' +' + timeDiff + 'ms');\n  };\n};","map":{"version":3,"names":["env","symbol","pair","dom","json","map","eventloop","math","time","func","BOLD","create","UNBOLD","BLUE","GREY","GREEN","RED","PURPLE","ORANGE","UNCOLOR","_browserStyleMap","_nodeStyleMap","computeBrowserLoggingArgs","args","strBuilder","styles","currentStyle","logArgs","i","length","arg","style","undefined","set","left","right","constructor","String","Number","mapToStyleString","push","unshift","join","Symbol","computeNodeLoggingArgs","computeLoggingArgs","isNode","print","console","log","vconsoles","forEach","vc","warn","printError","err","error","printImg","url","height","isBrowser","printImgBase64","base64","group","groupCollapsed","groupEnd","printDom","createNode","printCanvas","canvas","toDataURL","Set","_computeLineSpans","spans","Map","span","element","text","innerHTML","content","stringify","lineStyle","VConsole","ccontainer","depth","add","collapsed","enqueue","triangleDown","triangleRight","concat","nextContainer","nextLine","append","addEventListener","event","toggleAttribute","parentElement","toString","round","node","destroy","delete","createVConsole","loggingColors","nextColor","lastLoggingTime","getUnixTime","createModuleLogger","moduleName","color","debugRegexVar","getVariable","doLogging","RegExp","test","nop","timeNow","timeDiff","JSON"],"sources":["/root/ms1/node_modules/lib0/logging.js"],"sourcesContent":["/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\n\nimport * as env from './environment.js'\nimport * as symbol from './symbol.js'\nimport * as pair from './pair.js'\nimport * as dom from './dom.js'\nimport * as json from './json.js'\nimport * as map from './map.js'\nimport * as eventloop from './eventloop.js'\nimport * as math from './math.js'\nimport * as time from './time.js'\nimport * as func from './function.js'\n\nexport const BOLD = symbol.create()\nexport const UNBOLD = symbol.create()\nexport const BLUE = symbol.create()\nexport const GREY = symbol.create()\nexport const GREEN = symbol.create()\nexport const RED = symbol.create()\nexport const PURPLE = symbol.create()\nexport const ORANGE = symbol.create()\nexport const UNCOLOR = symbol.create()\n\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\nconst _browserStyleMap = {\n  [BOLD]: pair.create('font-weight', 'bold'),\n  [UNBOLD]: pair.create('font-weight', 'normal'),\n  [BLUE]: pair.create('color', 'blue'),\n  [GREEN]: pair.create('color', 'green'),\n  [GREY]: pair.create('color', 'grey'),\n  [RED]: pair.create('color', 'red'),\n  [PURPLE]: pair.create('color', 'purple'),\n  [ORANGE]: pair.create('color', 'orange'), // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [UNCOLOR]: pair.create('color', 'black')\n}\n\nconst _nodeStyleMap = {\n  [BOLD]: '\\u001b[1m',\n  [UNBOLD]: '\\u001b[2m',\n  [BLUE]: '\\x1b[34m',\n  [GREEN]: '\\x1b[32m',\n  [GREY]: '\\u001b[37m',\n  [RED]: '\\x1b[31m',\n  [PURPLE]: '\\x1b[35m',\n  [ORANGE]: '\\x1b[38;5;208m',\n  [UNCOLOR]: '\\x1b[0m'\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeBrowserLoggingArgs = args => {\n  const strBuilder = []\n  const styles = []\n  const currentStyle = map.create()\n  /**\n   * @type {Array<string|Object|number>}\n   */\n  let logArgs = []\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle)\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg)\n          styles.push(style)\n        } else {\n          strBuilder.push(arg)\n        }\n      } else {\n        break\n      }\n    }\n  }\n\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles\n    logArgs.unshift(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<string|object|number>}\n */\nconst computeNodeLoggingArgs = args => {\n  const strBuilder = []\n  const logArgs = []\n\n  // try with formatting until we find something unsupported\n  let i = 0\n\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _nodeStyleMap[arg]\n    if (style !== undefined) {\n      strBuilder.push(style)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        strBuilder.push(arg)\n      } else {\n        break\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    strBuilder.push('\\x1b[0m')\n    logArgs.push(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    /* istanbul ignore else */\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n\n/* istanbul ignore next */\nconst computeLoggingArgs = env.isNode ? computeNodeLoggingArgs : computeBrowserLoggingArgs\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const print = (...args) => {\n  console.log(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const warn = (...args) => {\n  console.warn(...computeLoggingArgs(args))\n  args.unshift(ORANGE)\n  vconsoles.forEach(vc => vc.print(args))\n}\n\n/* istanbul ignore next */\n/**\n * @param {Error} err\n */\nexport const printError = err => {\n  console.error(err)\n  vconsoles.forEach(vc => vc.printError(err))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log('%c                      ', `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`)\n    // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n  vconsoles.forEach(vc => vc.printImg(url, height))\n}\n\n/* istanbul ignore next */\n/**\n * @param {string} base64\n * @param {number} height\n */\nexport const printImgBase64 = (base64, height) => printImg(`data:image/gif;base64,${base64}`, height)\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const group = (...args) => {\n  console.group(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.group(args))\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const groupCollapsed = (...args) => {\n  console.groupCollapsed(...computeLoggingArgs(args))\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupCollapsed(args))\n}\n\nexport const groupEnd = () => {\n  console.groupEnd()\n  /* istanbul ignore next */\n  vconsoles.forEach(vc => vc.groupEnd())\n}\n\n/* istanbul ignore next */\n/**\n * @param {function():Node} createNode\n */\nexport const printDom = createNode =>\n  vconsoles.forEach(vc => vc.printDom(createNode()))\n\n/* istanbul ignore next */\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\nexport const printCanvas = (canvas, height) => printImg(canvas.toDataURL(), height)\n\nexport const vconsoles = new Set()\n\n/* istanbul ignore next */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\nconst _computeLineSpans = args => {\n  const spans = []\n  const currentStyle = new Map()\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [pair.create('style', dom.mapToStyleString(currentStyle))], [dom.text(arg)])\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;'\n        }\n        spans.push(span)\n      } else {\n        break\n      }\n    }\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    let content = args[i]\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' '\n      }\n      spans.push(dom.element('span', [], [dom.text(/** @type {string} */ (content))]))\n    }\n  }\n  return spans\n}\n\nconst lineStyle = 'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;'\n\n/* istanbul ignore next */\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor (dom) {\n    this.dom = dom\n    /**\n     * @type {Element}\n     */\n    this.ccontainer = this.dom\n    this.depth = 0\n    vconsoles.add(this)\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n  group (args, collapsed = false) {\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [pair.create('hidden', collapsed), pair.create('style', 'color:grey;font-size:120%;')], [dom.text('▼')])\n      const triangleRight = dom.element('span', [pair.create('hidden', !collapsed), pair.create('style', 'color:grey;font-size:125%;')], [dom.text('▶')])\n      const content = dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], [triangleDown, triangleRight, dom.text(' ')].concat(_computeLineSpans(args)))\n      const nextContainer = dom.element('div', [pair.create('hidden', collapsed)])\n      const nextLine = dom.element('div', [], [content, nextContainer])\n      dom.append(this.ccontainer, [nextLine])\n      this.ccontainer = nextContainer\n      this.depth++\n      // when header is clicked, collapse/uncollapse container\n      dom.addEventListener(content, 'click', event => {\n        nextContainer.toggleAttribute('hidden')\n        triangleDown.toggleAttribute('hidden')\n        triangleRight.toggleAttribute('hidden')\n      })\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  groupCollapsed (args) {\n    this.group(args, true)\n  }\n\n  groupEnd () {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--\n        // @ts-ignore\n        this.ccontainer = this.ccontainer.parentElement.parentElement\n      }\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  print (args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('div', [pair.create('style', `${lineStyle};padding-left:${this.depth * 10}px`)], _computeLineSpans(args))])\n    })\n  }\n\n  /**\n   * @param {Error} err\n   */\n  printError (err) {\n    this.print([RED, BOLD, err.toString()])\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n  printImg (url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [dom.element('img', [pair.create('src', url), pair.create('height', `${math.round(height * 1.5)}px`)])])\n    })\n  }\n\n  /**\n   * @param {Node} node\n   */\n  printDom (node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node])\n    })\n  }\n\n  destroy () {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this)\n    })\n  }\n}\n\n/* istanbul ignore next */\n/**\n * @param {Element} dom\n */\nexport const createVConsole = dom => new VConsole(dom)\n\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE]\nlet nextColor = 0\nlet lastLoggingTime = time.getUnixTime()\n\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = moduleName => {\n  const color = loggingColors[nextColor]\n  const debugRegexVar = env.getVariable('log')\n  const doLogging = debugRegexVar !== null && (debugRegexVar === '*' || debugRegexVar === 'true' || new RegExp(debugRegexVar, 'gi').test(moduleName))\n  nextColor = (nextColor + 1) % loggingColors.length\n  moduleName += ': '\n\n  return !doLogging ? func.nop : (...args) => {\n    const timeNow = time.getUnixTime()\n    const timeDiff = timeNow - lastLoggingTime\n    lastLoggingTime = timeNow\n    print(color, moduleName, UNCOLOR, ...args.map(arg => (typeof arg === 'string' || typeof arg === 'symbol') ? arg : JSON.stringify(arg)), color, ' +' + timeDiff + 'ms')\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,GAAG,MAAM,kBAAkB;AACvC,OAAO,KAAKC,MAAM,MAAM,aAAa;AACrC,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,GAAG,MAAM,UAAU;AAC/B,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,GAAG,MAAM,UAAU;AAC/B,OAAO,KAAKC,SAAS,MAAM,gBAAgB;AAC3C,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,IAAI,MAAM,eAAe;AAErC,OAAO,MAAMC,IAAI,GAAGT,MAAM,CAACU,MAAM,EAAE;AACnC,OAAO,MAAMC,MAAM,GAAGX,MAAM,CAACU,MAAM,EAAE;AACrC,OAAO,MAAME,IAAI,GAAGZ,MAAM,CAACU,MAAM,EAAE;AACnC,OAAO,MAAMG,IAAI,GAAGb,MAAM,CAACU,MAAM,EAAE;AACnC,OAAO,MAAMI,KAAK,GAAGd,MAAM,CAACU,MAAM,EAAE;AACpC,OAAO,MAAMK,GAAG,GAAGf,MAAM,CAACU,MAAM,EAAE;AAClC,OAAO,MAAMM,MAAM,GAAGhB,MAAM,CAACU,MAAM,EAAE;AACrC,OAAO,MAAMO,MAAM,GAAGjB,MAAM,CAACU,MAAM,EAAE;AACrC,OAAO,MAAMQ,OAAO,GAAGlB,MAAM,CAACU,MAAM,EAAE;;AAEtC;AACA;AACA;AACA,MAAMS,gBAAgB,GAAG;EACvB,CAACV,IAAI,GAAGR,IAAI,CAACS,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC;EAC1C,CAACC,MAAM,GAAGV,IAAI,CAACS,MAAM,CAAC,aAAa,EAAE,QAAQ,CAAC;EAC9C,CAACE,IAAI,GAAGX,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;EACpC,CAACI,KAAK,GAAGb,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC;EACtC,CAACG,IAAI,GAAGZ,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;EACpC,CAACK,GAAG,GAAGd,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC;EAClC,CAACM,MAAM,GAAGf,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC;EACxC,CAACO,MAAM,GAAGhB,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC;EAAE;EAC1C,CAACQ,OAAO,GAAGjB,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,OAAO;AACzC,CAAC;AAED,MAAMU,aAAa,GAAG;EACpB,CAACX,IAAI,GAAG,WAAW;EACnB,CAACE,MAAM,GAAG,WAAW;EACrB,CAACC,IAAI,GAAG,UAAU;EAClB,CAACE,KAAK,GAAG,UAAU;EACnB,CAACD,IAAI,GAAG,YAAY;EACpB,CAACE,GAAG,GAAG,UAAU;EACjB,CAACC,MAAM,GAAG,UAAU;EACpB,CAACC,MAAM,GAAG,gBAAgB;EAC1B,CAACC,OAAO,GAAG;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMG,yBAAyB,GAAGC,IAAI,IAAI;EACxC,MAAMC,UAAU,GAAG,EAAE;EACrB,MAAMC,MAAM,GAAG,EAAE;EACjB,MAAMC,YAAY,GAAGrB,GAAG,CAACM,MAAM,EAAE;EACjC;AACF;AACA;EACE,IAAIgB,OAAO,GAAG,EAAE;EAChB;EACA,IAAIC,CAAC,GAAG,CAAC;EAET,OAAOA,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,MAAME,GAAG,GAAGP,IAAI,CAACK,CAAC,CAAC;IACnB;IACA,MAAMG,KAAK,GAAGX,gBAAgB,CAACU,GAAG,CAAC;IACnC,IAAIC,KAAK,KAAKC,SAAS,EAAE;MACvBN,YAAY,CAACO,GAAG,CAACF,KAAK,CAACG,IAAI,EAAEH,KAAK,CAACI,KAAK,CAAC;IAC3C,CAAC,MAAM;MACL,IAAIL,GAAG,CAACM,WAAW,KAAKC,MAAM,IAAIP,GAAG,CAACM,WAAW,KAAKE,MAAM,EAAE;QAC5D,MAAMP,KAAK,GAAG5B,GAAG,CAACoC,gBAAgB,CAACb,YAAY,CAAC;QAChD,IAAIE,CAAC,GAAG,CAAC,IAAIG,KAAK,CAACF,MAAM,GAAG,CAAC,EAAE;UAC7BL,UAAU,CAACgB,IAAI,CAAC,IAAI,GAAGV,GAAG,CAAC;UAC3BL,MAAM,CAACe,IAAI,CAACT,KAAK,CAAC;QACpB,CAAC,MAAM;UACLP,UAAU,CAACgB,IAAI,CAACV,GAAG,CAAC;QACtB;MACF,CAAC,MAAM;QACL;MACF;IACF;EACF;EAEA,IAAIF,CAAC,GAAG,CAAC,EAAE;IACT;IACAD,OAAO,GAAGF,MAAM;IAChBE,OAAO,CAACc,OAAO,CAACjB,UAAU,CAACkB,IAAI,CAAC,EAAE,CAAC,CAAC;EACtC;EACA;EACA,OAAOd,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,MAAME,GAAG,GAAGP,IAAI,CAACK,CAAC,CAAC;IACnB,IAAI,EAAEE,GAAG,YAAYa,MAAM,CAAC,EAAE;MAC5BhB,OAAO,CAACa,IAAI,CAACV,GAAG,CAAC;IACnB;EACF;EACA,OAAOH,OAAO;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAMiB,sBAAsB,GAAGrB,IAAI,IAAI;EACrC,MAAMC,UAAU,GAAG,EAAE;EACrB,MAAMG,OAAO,GAAG,EAAE;;EAElB;EACA,IAAIC,CAAC,GAAG,CAAC;EAET,OAAOA,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,MAAME,GAAG,GAAGP,IAAI,CAACK,CAAC,CAAC;IACnB;IACA,MAAMG,KAAK,GAAGV,aAAa,CAACS,GAAG,CAAC;IAChC,IAAIC,KAAK,KAAKC,SAAS,EAAE;MACvBR,UAAU,CAACgB,IAAI,CAACT,KAAK,CAAC;IACxB,CAAC,MAAM;MACL,IAAID,GAAG,CAACM,WAAW,KAAKC,MAAM,IAAIP,GAAG,CAACM,WAAW,KAAKE,MAAM,EAAE;QAC5Dd,UAAU,CAACgB,IAAI,CAACV,GAAG,CAAC;MACtB,CAAC,MAAM;QACL;MACF;IACF;EACF;EACA,IAAIF,CAAC,GAAG,CAAC,EAAE;IACT;IACAJ,UAAU,CAACgB,IAAI,CAAC,SAAS,CAAC;IAC1Bb,OAAO,CAACa,IAAI,CAAChB,UAAU,CAACkB,IAAI,CAAC,EAAE,CAAC,CAAC;EACnC;EACA;EACA,OAAOd,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,MAAME,GAAG,GAAGP,IAAI,CAACK,CAAC,CAAC;IACnB;IACA,IAAI,EAAEE,GAAG,YAAYa,MAAM,CAAC,EAAE;MAC5BhB,OAAO,CAACa,IAAI,CAACV,GAAG,CAAC;IACnB;EACF;EACA,OAAOH,OAAO;AAChB,CAAC;;AAED;AACA,MAAMkB,kBAAkB,GAAG7C,GAAG,CAAC8C,MAAM,GAAGF,sBAAsB,GAAGtB,yBAAyB;;AAE1F;AACA;AACA;AACA,OAAO,MAAMyB,KAAK,GAAG,YAAa;EAAA,kCAATxB,IAAI;IAAJA,IAAI;EAAA;EAC3ByB,OAAO,CAACC,GAAG,CAAC,GAAGJ,kBAAkB,CAACtB,IAAI,CAAC,CAAC;EACxC;EACA2B,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACL,KAAK,CAACxB,IAAI,CAAC,CAAC;AACzC,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAM8B,IAAI,GAAG,YAAa;EAAA,mCAAT9B,IAAI;IAAJA,IAAI;EAAA;EAC1ByB,OAAO,CAACK,IAAI,CAAC,GAAGR,kBAAkB,CAACtB,IAAI,CAAC,CAAC;EACzCA,IAAI,CAACkB,OAAO,CAACvB,MAAM,CAAC;EACpBgC,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACL,KAAK,CAACxB,IAAI,CAAC,CAAC;AACzC,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAM+B,UAAU,GAAGC,GAAG,IAAI;EAC/BP,OAAO,CAACQ,KAAK,CAACD,GAAG,CAAC;EAClBL,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACE,UAAU,CAACC,GAAG,CAAC,CAAC;AAC7C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,QAAQ,GAAG,CAACC,GAAG,EAAEC,MAAM,KAAK;EACvC,IAAI3D,GAAG,CAAC4D,SAAS,EAAE;IACjBZ,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAG,cAAaU,MAAO,qFAAoFD,GAAI,GAAE,CAAC;IACxJ;EACF;;EACAR,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACK,QAAQ,CAACC,GAAG,EAAEC,MAAM,CAAC,CAAC;AACnD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,cAAc,GAAG,CAACC,MAAM,EAAEH,MAAM,KAAKF,QAAQ,CAAE,yBAAwBK,MAAO,EAAC,EAAEH,MAAM,CAAC;;AAErG;AACA;AACA;AACA,OAAO,MAAMI,KAAK,GAAG,YAAa;EAAA,mCAATxC,IAAI;IAAJA,IAAI;EAAA;EAC3ByB,OAAO,CAACe,KAAK,CAAC,GAAGlB,kBAAkB,CAACtB,IAAI,CAAC,CAAC;EAC1C;EACA2B,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACW,KAAK,CAACxC,IAAI,CAAC,CAAC;AACzC,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMyC,cAAc,GAAG,YAAa;EAAA,mCAATzC,IAAI;IAAJA,IAAI;EAAA;EACpCyB,OAAO,CAACgB,cAAc,CAAC,GAAGnB,kBAAkB,CAACtB,IAAI,CAAC,CAAC;EACnD;EACA2B,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACY,cAAc,CAACzC,IAAI,CAAC,CAAC;AAClD,CAAC;AAED,OAAO,MAAM0C,QAAQ,GAAG,MAAM;EAC5BjB,OAAO,CAACiB,QAAQ,EAAE;EAClB;EACAf,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACa,QAAQ,EAAE,CAAC;AACxC,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAGC,UAAU,IAChCjB,SAAS,CAACC,OAAO,CAACC,EAAE,IAAIA,EAAE,CAACc,QAAQ,CAACC,UAAU,EAAE,CAAC,CAAC;;AAEpD;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAG,CAACC,MAAM,EAAEV,MAAM,KAAKF,QAAQ,CAACY,MAAM,CAACC,SAAS,EAAE,EAAEX,MAAM,CAAC;AAEnF,OAAO,MAAMT,SAAS,GAAG,IAAIqB,GAAG,EAAE;;AAElC;AACA;AACA;AACA;AACA;AACA,MAAMC,iBAAiB,GAAGjD,IAAI,IAAI;EAChC,MAAMkD,KAAK,GAAG,EAAE;EAChB,MAAM/C,YAAY,GAAG,IAAIgD,GAAG,EAAE;EAC9B;EACA,IAAI9C,CAAC,GAAG,CAAC;EACT,OAAOA,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,MAAME,GAAG,GAAGP,IAAI,CAACK,CAAC,CAAC;IACnB;IACA,MAAMG,KAAK,GAAGX,gBAAgB,CAACU,GAAG,CAAC;IACnC,IAAIC,KAAK,KAAKC,SAAS,EAAE;MACvBN,YAAY,CAACO,GAAG,CAACF,KAAK,CAACG,IAAI,EAAEH,KAAK,CAACI,KAAK,CAAC;IAC3C,CAAC,MAAM;MACL,IAAIL,GAAG,CAACM,WAAW,KAAKC,MAAM,IAAIP,GAAG,CAACM,WAAW,KAAKE,MAAM,EAAE;QAC5D;QACA,MAAMqC,IAAI,GAAGxE,GAAG,CAACyE,OAAO,CAAC,MAAM,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,OAAO,EAAER,GAAG,CAACoC,gBAAgB,CAACb,YAAY,CAAC,CAAC,CAAC,EAAE,CAACvB,GAAG,CAAC0E,IAAI,CAAC/C,GAAG,CAAC,CAAC,CAAC;QAC7G,IAAI6C,IAAI,CAACG,SAAS,KAAK,EAAE,EAAE;UACzBH,IAAI,CAACG,SAAS,GAAG,QAAQ;QAC3B;QACAL,KAAK,CAACjC,IAAI,CAACmC,IAAI,CAAC;MAClB,CAAC,MAAM;QACL;MACF;IACF;EACF;EACA;EACA,OAAO/C,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3B,IAAImD,OAAO,GAAGxD,IAAI,CAACK,CAAC,CAAC;IACrB,IAAI,EAAEmD,OAAO,YAAYpC,MAAM,CAAC,EAAE;MAChC,IAAIoC,OAAO,CAAC3C,WAAW,KAAKC,MAAM,IAAI0C,OAAO,CAAC3C,WAAW,KAAKE,MAAM,EAAE;QACpEyC,OAAO,GAAG,GAAG,GAAG3E,IAAI,CAAC4E,SAAS,CAACD,OAAO,CAAC,GAAG,GAAG;MAC/C;MACAN,KAAK,CAACjC,IAAI,CAACrC,GAAG,CAACyE,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,CAACzE,GAAG,CAAC0E,IAAI,EAAC,qBAAuBE,OAAO,CAAE,CAAC,CAAC,CAAC;IAClF;EACF;EACA,OAAON,KAAK;AACd,CAAC;AAED,MAAMQ,SAAS,GAAG,oEAAoE;;AAEtF;AACA,OAAO,MAAMC,QAAQ,CAAC;EACpB;AACF;AACA;EACE9C,WAAW,CAAEjC,GAAG,EAAE;IAChB,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd;AACJ;AACA;IACI,IAAI,CAACgF,UAAU,GAAG,IAAI,CAAChF,GAAG;IAC1B,IAAI,CAACiF,KAAK,GAAG,CAAC;IACdlC,SAAS,CAACmC,GAAG,CAAC,IAAI,CAAC;EACrB;;EAEA;AACF;AACA;AACA;EACEtB,KAAK,CAAExC,IAAI,EAAqB;IAAA,IAAnB+D,SAAS,uEAAG,KAAK;IAC5BhF,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtB,MAAMC,YAAY,GAAGrF,GAAG,CAACyE,OAAO,CAAC,MAAM,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,QAAQ,EAAE2E,SAAS,CAAC,EAAEpF,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC,EAAE,CAACR,GAAG,CAAC0E,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MACjJ,MAAMY,aAAa,GAAGtF,GAAG,CAACyE,OAAO,CAAC,MAAM,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,QAAQ,EAAE,CAAC2E,SAAS,CAAC,EAAEpF,IAAI,CAACS,MAAM,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC,EAAE,CAACR,GAAG,CAAC0E,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;MACnJ,MAAME,OAAO,GAAG5E,GAAG,CAACyE,OAAO,CAAC,KAAK,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,OAAO,EAAG,GAAEsE,SAAU,iBAAgB,IAAI,CAACG,KAAK,GAAG,EAAG,IAAG,CAAC,CAAC,EAAE,CAACI,YAAY,EAAEC,aAAa,EAAEtF,GAAG,CAAC0E,IAAI,CAAC,GAAG,CAAC,CAAC,CAACa,MAAM,CAAClB,iBAAiB,CAACjD,IAAI,CAAC,CAAC,CAAC;MAC1L,MAAMoE,aAAa,GAAGxF,GAAG,CAACyE,OAAO,CAAC,KAAK,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,QAAQ,EAAE2E,SAAS,CAAC,CAAC,CAAC;MAC5E,MAAMM,QAAQ,GAAGzF,GAAG,CAACyE,OAAO,CAAC,KAAK,EAAE,EAAE,EAAE,CAACG,OAAO,EAAEY,aAAa,CAAC,CAAC;MACjExF,GAAG,CAAC0F,MAAM,CAAC,IAAI,CAACV,UAAU,EAAE,CAACS,QAAQ,CAAC,CAAC;MACvC,IAAI,CAACT,UAAU,GAAGQ,aAAa;MAC/B,IAAI,CAACP,KAAK,EAAE;MACZ;MACAjF,GAAG,CAAC2F,gBAAgB,CAACf,OAAO,EAAE,OAAO,EAAEgB,KAAK,IAAI;QAC9CJ,aAAa,CAACK,eAAe,CAAC,QAAQ,CAAC;QACvCR,YAAY,CAACQ,eAAe,CAAC,QAAQ,CAAC;QACtCP,aAAa,CAACO,eAAe,CAAC,QAAQ,CAAC;MACzC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEhC,cAAc,CAAEzC,IAAI,EAAE;IACpB,IAAI,CAACwC,KAAK,CAACxC,IAAI,EAAE,IAAI,CAAC;EACxB;EAEA0C,QAAQ,GAAI;IACV3D,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtB,IAAI,IAAI,CAACH,KAAK,GAAG,CAAC,EAAE;QAClB,IAAI,CAACA,KAAK,EAAE;QACZ;QACA,IAAI,CAACD,UAAU,GAAG,IAAI,CAACA,UAAU,CAACc,aAAa,CAACA,aAAa;MAC/D;IACF,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACElD,KAAK,CAAExB,IAAI,EAAE;IACXjB,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtBpF,GAAG,CAAC0F,MAAM,CAAC,IAAI,CAACV,UAAU,EAAE,CAAChF,GAAG,CAACyE,OAAO,CAAC,KAAK,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,OAAO,EAAG,GAAEsE,SAAU,iBAAgB,IAAI,CAACG,KAAK,GAAG,EAAG,IAAG,CAAC,CAAC,EAAEZ,iBAAiB,CAACjD,IAAI,CAAC,CAAC,CAAC,CAAC;IACtJ,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACE+B,UAAU,CAAEC,GAAG,EAAE;IACf,IAAI,CAACR,KAAK,CAAC,CAAC/B,GAAG,EAAEN,IAAI,EAAE6C,GAAG,CAAC2C,QAAQ,EAAE,CAAC,CAAC;EACzC;;EAEA;AACF;AACA;AACA;EACEzC,QAAQ,CAAEC,GAAG,EAAEC,MAAM,EAAE;IACrBrD,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtBpF,GAAG,CAAC0F,MAAM,CAAC,IAAI,CAACV,UAAU,EAAE,CAAChF,GAAG,CAACyE,OAAO,CAAC,KAAK,EAAE,CAAC1E,IAAI,CAACS,MAAM,CAAC,KAAK,EAAE+C,GAAG,CAAC,EAAExD,IAAI,CAACS,MAAM,CAAC,QAAQ,EAAG,GAAEJ,IAAI,CAAC4F,KAAK,CAACxC,MAAM,GAAG,GAAG,CAAE,IAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACtI,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEO,QAAQ,CAAEkC,IAAI,EAAE;IACd9F,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtBpF,GAAG,CAAC0F,MAAM,CAAC,IAAI,CAACV,UAAU,EAAE,CAACiB,IAAI,CAAC,CAAC;IACrC,CAAC,CAAC;EACJ;EAEAC,OAAO,GAAI;IACT/F,SAAS,CAACiF,OAAO,CAAC,MAAM;MACtBrC,SAAS,CAACoD,MAAM,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ;AACF;;AAEA;AACA;AACA;AACA;AACA,OAAO,MAAMC,cAAc,GAAGpG,GAAG,IAAI,IAAI+E,QAAQ,CAAC/E,GAAG,CAAC;AAEtD,MAAMqG,aAAa,GAAG,CAACzF,KAAK,EAAEE,MAAM,EAAEC,MAAM,EAAEL,IAAI,CAAC;AACnD,IAAI4F,SAAS,GAAG,CAAC;AACjB,IAAIC,eAAe,GAAGlG,IAAI,CAACmG,WAAW,EAAE;;AAExC;AACA;AACA;AACA;AACA,OAAO,MAAMC,kBAAkB,GAAGC,UAAU,IAAI;EAC9C,MAAMC,KAAK,GAAGN,aAAa,CAACC,SAAS,CAAC;EACtC,MAAMM,aAAa,GAAG/G,GAAG,CAACgH,WAAW,CAAC,KAAK,CAAC;EAC5C,MAAMC,SAAS,GAAGF,aAAa,KAAK,IAAI,KAAKA,aAAa,KAAK,GAAG,IAAIA,aAAa,KAAK,MAAM,IAAI,IAAIG,MAAM,CAACH,aAAa,EAAE,IAAI,CAAC,CAACI,IAAI,CAACN,UAAU,CAAC,CAAC;EACnJJ,SAAS,GAAG,CAACA,SAAS,GAAG,CAAC,IAAID,aAAa,CAAC3E,MAAM;EAClDgF,UAAU,IAAI,IAAI;EAElB,OAAO,CAACI,SAAS,GAAGxG,IAAI,CAAC2G,GAAG,GAAG,YAAa;IAC1C,MAAMC,OAAO,GAAG7G,IAAI,CAACmG,WAAW,EAAE;IAClC,MAAMW,QAAQ,GAAGD,OAAO,GAAGX,eAAe;IAC1CA,eAAe,GAAGW,OAAO;IAAA,mCAHQ9F,IAAI;MAAJA,IAAI;IAAA;IAIrCwB,KAAK,CAAC+D,KAAK,EAAED,UAAU,EAAE1F,OAAO,EAAE,GAAGI,IAAI,CAAClB,GAAG,CAACyB,GAAG,IAAK,OAAOA,GAAG,KAAK,QAAQ,IAAI,OAAOA,GAAG,KAAK,QAAQ,GAAIA,GAAG,GAAGyF,IAAI,CAACvC,SAAS,CAAClD,GAAG,CAAC,CAAC,EAAEgF,KAAK,EAAE,IAAI,GAAGQ,QAAQ,GAAG,IAAI,CAAC;EACxK,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}